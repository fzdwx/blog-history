<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>project on fzdwx</title>
    <link>https://fzdwx.github.io/tags/project/</link>
    <description>Recent content in project on fzdwx</description>
    <image>
      <url>https://fzdwx.github.io/images/party_parrot.gif</url>
      <link>https://fzdwx.github.io/images/party_parrot.gif</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>Copyright [fzdwx](https://github.com/fzdwx)   since 2022</copyright>
    <lastBuildDate>Sun, 04 Dec 2022 22:45:02 +0800</lastBuildDate><atom:link href="https://fzdwx.github.io/tags/project/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>在 Obsidian 中预览 hugo </title>
      <link>https://fzdwx.github.io/posts/2022-12-04-hugo-preview-obsidian/</link>
      <pubDate>Sun, 04 Dec 2022 22:45:02 +0800</pubDate>
      
      <guid>https://fzdwx.github.io/posts/2022-12-04-hugo-preview-obsidian/</guid>
      <description>前段时间玩过几天的 obsidian，由于太费神了所以转向了 hugo ,然后直接用文本编辑器写 md ，体验还是不太好，然后我想起还有 obsidian 这个软件，所以就有了这个插件。</description>
      <content:encoded><![CDATA[<blockquote>
<p>前段时间玩过几天的 obsidian，由于太费神了所以转向了 hugo ,然后直接用文本编辑器写 md ，体验还是不太好，然后我想起还有 obsidian 这个软件，所以就有了这个插件。</p>
</blockquote>
<p><strong>当前主要功能</strong>：</p>
<ol>
<li>开一个 <code>custome iframe</code> 预览 hugo (via &nbsp;<a href="https://github.com/Ellpeck/ObsidianCustomFrames" target="_blank" rel="noopener">https://github.com/Ellpeck/ObsidianCustomFrames</a>
)</li>
<li>后台启动 <code>hugo server</code><figure id="a-static/images/Pasted%20image%2020221205140050.png" class="align-center">
    <img src="static/images/Pasted%20image%2020221205140050.png" alt=""  />
    
</figure>
<ol>
<li>当前还有一点问题，子进程( hugo 进程)在程序推出时不会关闭。</li>
</ol>
</li>
</ol>
<p><strong>遇到的问题</strong>:</p>
<ol>
<li>获取 obsidian 打开的目录不知道 api( cwd ),后提 issue 知道了获取方法。</li>
</ol>
<hr>
<p>仓库: &nbsp;<a href="https://github.com/fzdwx/hugo-preview-obsidian" target="_blank" rel="noopener">https://github.com/fzdwx/hugo-preview-obsidian</a>
</p>
<p><figure id="a-/images/12.png" class="align-center">
    <img src="/images/12.png" alt="运行图例，左编辑区域，右预览区域"  />
    
    <figcaption>
       运行图例，左编辑区域，右预览区域
    </figcaption>
    
</figure></p>
<h2 id="更新">更新</h2>
<ol>
<li>支持自定义 exec command, 例如可以用来启动终端。 使用 <code>ALT+F12</code> 唤起。
<ol>
<li>由于我使用 git 进行同步，时常需要打开终端并且进入到具体的目录，所以需要一个快速启动终端在当前的目录下的命令： <code>wezterm start --class float --cwd ${cwd}</code>。</li>
<li>目前只提供了 cwd 这个变量，它会替换为当前笔记的路径。</li>
</ol>
</li>
</ol>
<p><figure id="a-/images/13.png" class="align-center">
    <img src="/images/13.png" alt="自定义 command 配置示例"  />
    
    <figcaption>
       自定义 command 配置示例
    </figcaption>
    
</figure></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>写一个自己的github action</title>
      <link>https://fzdwx.github.io/posts/2022-10-15-about-github-action/</link>
      <pubDate>Sat, 15 Oct 2022 19:25:10 +0800</pubDate>
      
      <guid>https://fzdwx.github.io/posts/2022-10-15-about-github-action/</guid>
      <description>起因是因为想要有一种可以不用编辑文件而作用到网站上的方式，然后就了解到了 github action 的形式。</description>
      <content:encoded><![CDATA[<p>主要原理就是通过 github action 的来监听 issue 的相关事件，然后读取issue中的内容创建文件提交到 git 上，最后直接部署。这样就能随时编辑并展示了。</p>
<p>具体可以看 &nbsp;<a href="https://github.com/fzdwx/add-event-to-myblog" target="_blank" rel="noopener">add event to myb log</a>
这个仓库，
以及&nbsp;<a href="https://github.com/fzdwx/fzdwx.github.io/blob/main/.github/workflows/add-event.yml" target="_blank" rel="noopener">使用方式</a>
。</p>
<p>接下来介绍如何开发一个 github action:</p>
<h3 id="1-克隆官方提供的template">1. 克隆官方提供的template</h3>
<p>官方主要对 typescript 的支持比较好，提供了一系列的&nbsp;<a href="https://github.com/actions/toolkit" target="_blank" rel="noopener">工具包</a>
，没办法只能同ts来进行开发，</p>
<p>&nbsp;<a href="https://github.com/actions/typescript-action" target="_blank" rel="noopener">https://github.com/actions/typescript-action</a>
</p>
<h3 id="2-定义想要在运行时用户输入的参数">2. 定义想要在运行时用户输入的参数</h3>
<p>通过编辑<code>action.yml</code>这个文件来定义想要在运行时定义的参数，比如说<code>GITHUB_TOKEN</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;add event to my blog&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;add event to my blog&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">author</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;fzdwx&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">branding</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">icon</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;archive&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">color</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;white&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">inputs</span><span class="p">:</span><span class="w"> </span><span class="c"># 在这个key下面添加自定义参数</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">token</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;the repo PAT or GITHUB_TOKEN&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">runs</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">using</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;node16&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">main</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;dist/index.js&#39;</span><span class="w">
</span></span></span></code></pre></div><p>参数有三个属性:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="l">是否必须</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">描述</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l">默认值</span><span class="w">
</span></span></span></code></pre></div><h3 id="3-实现想要的功能">3. 实现想要的功能</h3>
<p>详细可以查看我的&nbsp;<a href="https://github.com/fzdwx/add-event-to-myblog/blob/v2.1/src/main.ts" target="_blank" rel="noopener">主要代码</a>
。我的里面主要做了:</p>
<ol>
<li>根据当前issue number&nbsp;<a href="https://github.com/fzdwx/add-event-to-myblog/blob/v2.1/src/main.ts#L16" target="_blank" rel="noopener">获取该issue的内容</a>
。</li>
<li>根据预定义的模板，&nbsp;<a href="https://github.com/fzdwx/add-event-to-myblog/blob/v2.1/src/main.ts#L18-L33" target="_blank" rel="noopener">创建文件内容</a>
。</li>
<li>提交到&nbsp;<a href="https://github.com/fzdwx/add-event-to-myblog/blob/v2.1/src/main.ts#L34-L38" target="_blank" rel="noopener">git</a>
上。</li>
</ol>
<h3 id="4-发布到marketplace">4. 发布到marketplace</h3>
<p>需要勾选 <strong>Publish this Action to the GitHub Marketplace</strong>，可能需要2fa认证，找一个 github 支持(我用的是 authy，防止后面忘记了)就ok了。</p>
<p><figure id="a-/images/8.png" class="align-center">
    <img src="/images/8.png" alt="Figure 1"  />
    
    <figcaption>
       Figure 1
    </figcaption>
    
</figure></p>
<p>成功 release 后就能在别的项目中使用了。</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
