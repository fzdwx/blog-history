---
title: "操作系统的地址空间"
date: 2023-03-06T20:30:48+08:00
update: 2023-03-06T20:30:48+08:00
draft: false
docs: [os,risc-v]
ShowBreadCrumbs: false
---

{{< block type="tip" title="回顾">}}

前面通过 [Trap 机制](http://fzdwx.github.io/document/2023-01-08-os-multi-programs/#分时多任务系统与抢占式调度)，实现了操作系统的分时复用,
这是为了公平性的考虑，防止独占 CPU 的情况发生，而应用自认为的独占 CPU 只是内核想让应用看到的一种假象。

CPU 计算资源被 分时复用 的实质被内核通过恰当的抽象隐藏了起来，对应用不可见。
{{< /block >}}

但是内存管理这一块还是非常狂野的，应用程序可以随便读写内存，这样就会导致一些问题：

1. 应用程序可以随意改写内核的代码，这样就会导致内核崩溃
2. 应用程序运行完毕后，内存中的数据没有被清理，这样就会导致内存泄漏
3. 内核提供的接口不够友善，应用程序需要自己去管理内存，这样就会导致应用程序的复杂度提高

所以为了解决这些问题，更好的管理内存，我们需要引入操作系统的地址空间。


## 1. 分页机制